<!-- // Let's build a todo list. Only use plain old vanilla JavaScript, don't use any JS frameworks. 
// Don't worry about styling for now. Here's what we're building (LINK IN CANVAS).
// We'll build an ugly version first before we worry about styling.
// Add an input box and a button to your app.
// When the user clicks the button, make a new todo item appear on the page.
// Set the input box back to an empty value when a task is added.
// Show the total number of tasks somewhere.
// We should be using forms with our input! Wrap your input box and button in a form. Make sure the button is a submit button. You'll need to update your event listener from `on button click` to `on form submit`. Pro tip: preventDefault will be helpful here.
// We can remove the button. Pressing enter will submit the form.
// Use Bootstrap to make it look similar to the demo.

// Beast Mode
// Allow tasks to be marked as complete.
// Add a progress bar to show % of tasks completed.
// Allow tasks to be removed.

// Beast Mode++
// Update the input functionality. It should also search the tasks as a user types. Demo
// Refreshing the page wipes all our data! Find a way to persist data. -->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Page Title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
    <!-- // Add an input box and a button to your app. -->
        <form id="form1">
            ToDo: <input id="input" type="text" todo="todo"><br>
      
     <!-- // We can remove the button. Pressing enter will submit the form. -->
      <!-- <button id="add" type="submit" form="form1" value="Submit">Add</button> -->
        </form>
        <div id="div1">
           
        </div>
        <div id="div2">
                <ul id="list">

                    </ul>
        </div>
    <script>
        // web storage canvas challenge: Tasks should persist between browser restarts.
        // retrieve from localstorage and repost whole list on refresh
        window.onload = function() {
            let list = JSON.parse(localStorage.getItem('saveList'))
            let ul = document.getElementById("list")
            console.log(list)
            
            for (item of list){
                let li = document.createElement("li");
                li.appendChild(document.createTextNode(`${item}`));
                ul.appendChild(li)
            }

                // <!-- // Show the total number of tasks somewhere. -->
        let x = document.getElementById("list").childElementCount;
        document.getElementById('div1').innerHTML = `Total toDo items = ${x}`

        }
        
    // <!-- // When the user clicks the button, make a new todo item appear on the page. -->
        let form = document.getElementById('form1')
        form.addEventListener("submit", formSubmit)

        // Make sure the button is a submit button. You'll need to update your event listener from 
        // `on button click` to `on form submit`. Pro tip: preventDefault will be helpful here. -->
        function formSubmit(event) {
            event.preventDefault()

            let input = document.getElementById("input").value
            let ul = document.getElementById("list");
            let li = document.createElement("li");
            li.appendChild(document.createTextNode(`${input}`));
            ul.appendChild(li)

        // <!-- // Set the input box back to an empty value when a task is added. -->
            document.getElementById("form1").reset();

              // <!-- // Show the total number of tasks somewhere. -->
            let x = document.getElementById("list").childElementCount;
            document.getElementById('div1').innerHTML = `Total toDo items = ${x}`
        
        // store current list in localstorage
        // localStorage.setItem('colorSetting', '#a4509b');
        console.log(ul)
        // li values
        let currentList = document.querySelectorAll('li')
            let storeList = []
            for (x of currentList) {
                storeList.push(x.innerHTML)
            }
        
            console.log(storeList)
        localStorage.setItem('saveList', JSON.stringify(storeList));

        } 
   
    </script>
    </body>
</html>
